<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>RIZTOOLS</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@400;500&family=Barlow+Condensed:wght@600;700;900&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#f0f0ee;--bg2:#e8e8e5;--card:#ffffff;--border:#d5d5d2;--border2:#b8b8b4;--text:#111111;--text2:#555550;--text3:#999990;--black:#0c0c0c;--white:#ffffff;--hover:#e2e2de}
html{scroll-behavior:smooth}
body{min-height:100vh;font-family:'DM Mono',monospace;background:linear-gradient(175deg,#f8f8f6 0%,#e6e6e3 25%,#c4c4c0 52%,#484845 78%,#141412 100%);background-attachment:fixed;overflow-x:hidden;color:var(--text)}
body::after{content:'';position:fixed;inset:0;pointer-events:none;z-index:999;opacity:.015;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E")}
.wrap{max-width:680px;margin:0 auto;padding:0 16px 80px;position:relative;z-index:1}
header{padding:42px 0 26px;text-align:center;animation:fadeUp .5s ease both}
.eyebrow{font-size:9px;letter-spacing:.45em;text-transform:uppercase;color:var(--text3);margin-bottom:14px;display:flex;align-items:center;justify-content:center;gap:10px}
.eyebrow::before,.eyebrow::after{content:'';width:34px;height:1px;background:var(--border2)}
h1{font-family:'Bebas Neue',sans-serif;font-size:clamp(50px,15vw,96px);letter-spacing:.05em;line-height:.88;color:var(--black);margin-bottom:6px}
.sub-row{display:flex;align-items:center;justify-content:center;gap:10px;margin-top:10px}
.sub-text{font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:.28em;text-transform:uppercase;color:var(--text3)}
.dot{width:3px;height:3px;background:var(--border2);border-radius:50%}
.nav-tabs{display:flex;border:1.5px solid var(--border);background:var(--card);margin-bottom:16px;animation:fadeUp .5s .04s ease both;overflow:hidden}
.nav-tab{flex:1;background:none;border:none;border-right:1.5px solid var(--border);font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:.16em;text-transform:uppercase;color:var(--text3);padding:13px 8px;cursor:pointer;transition:all .2s}
.nav-tab:last-child{border-right:none}
.nav-tab:hover{background:var(--hover);color:var(--text)}
.nav-tab.active{background:var(--black);color:var(--white)}
.panel{display:none}.panel.active{display:block}
.card{background:var(--card);border:1.5px solid var(--border);padding:24px;box-shadow:0 1px 14px rgba(0,0,0,.04);animation:fadeUp .5s .1s ease both}
.plat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:7px;margin-bottom:16px;animation:fadeUp .5s .08s ease both}
.plat-btn{background:var(--card);border:1.5px solid var(--border);padding:12px 6px 10px;display:flex;flex-direction:column;align-items:center;gap:6px;cursor:pointer;transition:all .18s}
.plat-btn:hover{border-color:var(--border2);background:var(--hover)}
.plat-btn.active{background:var(--black);border-color:var(--black)}
.plat-btn.active .plat-name{color:var(--white)}
.plat-icon{width:32px;height:32px;display:flex;align-items:center;justify-content:center}
.plat-icon svg{width:100%;height:100%}
.plat-name{font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:.14em;text-transform:uppercase;color:var(--text)}
.fl{font-size:8px;letter-spacing:.38em;text-transform:uppercase;color:var(--text3);margin-bottom:7px}
.inp-wrap{position:relative;margin-bottom:13px}
.inp-wrap input{width:100%;background:var(--bg);border:1.5px solid var(--border);color:var(--text);font-family:'DM Mono',monospace;font-size:12px;padding:13px 42px 13px 14px;outline:none;transition:border .2s}
.inp-wrap input::placeholder{color:var(--text3)}
.inp-wrap input:focus{border-color:var(--border2);box-shadow:0 0 0 3px rgba(0,0,0,.04)}
.inp-icon{position:absolute;right:11px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--text3);font-size:13px;padding:4px;transition:color .15s}
.inp-icon:hover{color:var(--text)}
.mode-wrap{display:flex;gap:7px;margin-bottom:13px}
.mode-btn{flex:1;background:var(--bg);border:1.5px solid var(--border);color:var(--text2);font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;padding:9px;cursor:pointer;transition:all .18s;display:flex;align-items:center;justify-content:center;gap:5px}
.mode-btn:hover{border-color:var(--border2);color:var(--text)}
.mode-btn.active{background:var(--black);border-color:var(--black);color:var(--white)}
.q-wrap{margin-bottom:16px}
.q-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:5px}
.q-btn{background:var(--bg);border:1.5px solid var(--border);color:var(--text2);font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:700;letter-spacing:.06em;padding:8px 4px;cursor:pointer;text-align:center;transition:all .15s}
.q-btn:hover{border-color:var(--border2);color:var(--text)}
.q-btn.active{background:var(--black);border-color:var(--black);color:var(--white)}
.q-btn .qtag{display:block;font-size:7px;font-family:'DM Mono',monospace;font-weight:400;opacity:.55;margin-top:1px}
.btn-row{display:flex;gap:7px}
.fetch-btn{flex:0 0 auto;background:var(--bg);border:1.5px solid var(--border);color:var(--text);font-family:'Bebas Neue',sans-serif;font-size:16px;letter-spacing:.12em;padding:0 18px;height:50px;cursor:pointer;transition:all .18s;white-space:nowrap}
.fetch-btn:hover{background:var(--hover);border-color:var(--border2)}
.fetch-btn:disabled{opacity:.4;cursor:not-allowed}
.dl-btn{flex:1;background:var(--black);border:1.5px solid var(--black);color:var(--white);font-family:'Bebas Neue',sans-serif;font-size:19px;letter-spacing:.14em;height:50px;cursor:pointer;overflow:hidden;position:relative;transition:all .2s}
.dl-btn::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.07),transparent);transform:translateX(-100%);transition:transform .5s}
.dl-btn:hover::before{transform:translateX(100%)}
.dl-btn:hover{background:#2a2a2a}
.dl-btn:disabled{opacity:.3;cursor:not-allowed}
.prog-wrap{height:2px;background:var(--border);margin-top:12px;display:none;overflow:hidden}
.prog-bar{height:100%;background:linear-gradient(90deg,#777,#111);width:0%;transition:width .3s}
.st{font-size:10px;letter-spacing:.08em;line-height:1.6;padding:10px 13px;margin-top:10px;display:none;border-left:2px solid var(--border2);background:var(--bg);color:var(--text2)}
.st.err{border-color:#888;background:#fdf5f5;color:#880000}
.st.ok{border-color:#555;background:#f5fdf5;color:#004400}
.st.ld{border-color:var(--border2)}
.res-box{display:none;margin-top:18px}
.divider{height:1px;background:linear-gradient(to right,transparent,var(--border),transparent);margin-bottom:14px}
.res-card{display:flex;gap:12px;background:var(--bg);border:1.5px solid var(--border);padding:14px}
.res-thumb{width:60px;height:80px;object-fit:cover;border:1px solid var(--border);flex-shrink:0;background:var(--bg2)}
.res-thumb.sq{height:60px}
.res-info{flex:1;min-width:0}
.res-title{font-family:'Barlow Condensed',sans-serif;font-size:14px;font-weight:700;color:var(--black);margin-bottom:7px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.res-tags{display:flex;flex-wrap:wrap;gap:4px}
.res-tag{font-size:8px;letter-spacing:.12em;text-transform:uppercase;background:var(--card);border:1px solid var(--border);padding:2px 7px;color:var(--text3)}
.yt-pick{display:none;margin-top:14px}
.yt-pick-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:6px}
.yt-q-btn{background:var(--bg);border:1.5px solid var(--border);color:var(--text2);font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;padding:9px;cursor:pointer;text-align:center;transition:all .15s}
.yt-q-btn:hover{background:var(--black);border-color:var(--black);color:var(--white)}
.yt-q-btn .yt-fmt{display:block;font-size:8px;opacity:.6;font-weight:400;font-family:'DM Mono',monospace;margin-top:2px}
.picker-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(88px,1fr));gap:6px;margin-top:14px}
.picker-item{position:relative;border:1.5px solid var(--border);overflow:hidden;aspect-ratio:1;background:var(--bg2);cursor:pointer}
.picker-item img{width:100%;height:100%;object-fit:cover}
.picker-dl{position:absolute;inset:0;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;font-family:'Bebas Neue',sans-serif;font-size:12px;letter-spacing:.1em;color:transparent;transition:all .2s}
.picker-item:hover .picker-dl{background:rgba(0,0,0,.55);color:white}
/* SEARCH */
.search-card,.stalk-card{background:var(--card);border:1.5px solid var(--border);padding:24px;box-shadow:0 1px 14px rgba(0,0,0,.04);animation:fadeUp .4s ease both}
.splat-row{display:flex;gap:7px;margin-bottom:13px}
.splat-btn{flex:1;background:var(--bg);border:1.5px solid var(--border);color:var(--text2);font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:700;letter-spacing:.12em;text-transform:uppercase;padding:9px 6px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:7px;transition:all .18s}
.splat-btn:hover{border-color:var(--border2);color:var(--text)}
.splat-btn.active{background:var(--black);border-color:var(--black);color:var(--white)}
.splat-btn .si{width:16px;height:16px;flex-shrink:0;display:flex;align-items:center}
.splat-btn .si svg{width:100%;height:100%}
.s-row{display:flex;gap:7px;margin-bottom:16px}
.s-row input{flex:1;background:var(--bg);border:1.5px solid var(--border);color:var(--text);font-family:'DM Mono',monospace;font-size:12px;padding:13px 14px;outline:none;transition:border .2s}
.s-row input::placeholder{color:var(--text3)}
.s-row input:focus{border-color:var(--border2);box-shadow:0 0 0 3px rgba(0,0,0,.04)}
.srch-btn{background:var(--black);border:1.5px solid var(--black);color:var(--white);font-family:'Bebas Neue',sans-serif;font-size:15px;letter-spacing:.12em;padding:0 16px;height:48px;cursor:pointer;transition:all .18s;flex-shrink:0}
.srch-btn:hover{background:#2a2a2a}.srch-btn:disabled{opacity:.4;cursor:not-allowed}
.rfr-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.rfr-info{font-size:9px;letter-spacing:.28em;text-transform:uppercase;color:var(--text3)}
.rfr-btn{background:var(--bg);border:1.5px solid var(--border);color:var(--text2);font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:.15em;text-transform:uppercase;padding:5px 12px;cursor:pointer;transition:all .18s;display:flex;align-items:center;gap:5px}
.rfr-btn:hover{border-color:var(--border2);color:var(--text)}.rfr-btn:disabled{opacity:.35;cursor:not-allowed}
.rfr-btn.spinning .ri-sp{animation:spin .5s linear}
.results-grid{display:grid;gap:9px}
.r-item{display:flex;gap:11px;background:var(--bg);border:1.5px solid var(--border);padding:11px;transition:all .18s;position:relative;overflow:hidden;animation:fadeUp .3s ease both}
.r-item::before{content:'';position:absolute;left:0;top:0;bottom:0;width:0;background:var(--black);transition:width .2s}
.r-item:hover{border-color:var(--border2);transform:translateX(2px)}.r-item:hover::before{width:3px}
.r-thumb-w{position:relative;flex-shrink:0}
.r-thumb{width:68px;height:90px;object-fit:cover;border:1px solid var(--border);background:var(--bg2);display:block}
.r-thumb.yt{width:112px;height:63px}
.r-dur{position:absolute;bottom:3px;right:3px;background:rgba(0,0,0,.75);color:white;font-size:8px;font-family:'DM Mono',monospace;padding:2px 4px}
.r-info{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:space-between}
.r-title{font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;color:var(--black);margin-bottom:5px;overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;line-height:1.25}
.r-meta{font-size:9px;letter-spacing:.1em;color:var(--text3);display:flex;flex-wrap:wrap;gap:3px}
.r-meta span{background:var(--card);border:1px solid var(--border);padding:2px 5px;text-transform:uppercase}
.r-dl-btn{flex-shrink:0;background:var(--card);border:1.5px solid var(--border);color:var(--text2);font-family:'Bebas Neue',sans-serif;font-size:12px;letter-spacing:.1em;padding:6px 9px;cursor:pointer;transition:all .18s;align-self:center;white-space:nowrap}
.r-dl-btn:hover{background:var(--black);border-color:var(--black);color:var(--white)}
/* STALK */
.stalk-result{display:none;margin-top:18px}
.stalk-profile{display:flex;gap:14px;background:var(--bg);border:1.5px solid var(--border);padding:16px}
.stalk-avatar{width:72px;height:72px;border-radius:50%;object-fit:cover;border:2px solid var(--border);flex-shrink:0;background:var(--bg2)}
.stalk-info{flex:1;min-width:0}
.stalk-name{font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:900;letter-spacing:.04em;color:var(--black)}
.stalk-at{font-size:10px;color:var(--text3);letter-spacing:.1em;margin-bottom:5px}
.stalk-bio{font-size:11px;color:var(--text2);line-height:1.5;margin-bottom:7px;word-break:break-word}
.stalk-badges{display:flex;flex-wrap:wrap;gap:4px}
.stalk-badge{font-size:8px;letter-spacing:.18em;text-transform:uppercase;background:var(--card);border:1px solid var(--border);padding:2px 8px;color:var(--text3)}
.stalk-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:5px;margin-top:10px}
.stat-item{background:var(--card);border:1.5px solid var(--border);padding:10px 6px;text-align:center}
.stat-val{font-family:'Bebas Neue',sans-serif;font-size:20px;color:var(--black);line-height:1}
.stat-lbl{font-size:8px;letter-spacing:.2em;text-transform:uppercase;color:var(--text3);margin-top:2px}
.skel{height:90px;background:linear-gradient(90deg,var(--bg) 0%,var(--hover) 50%,var(--bg) 100%);background-size:200% 100%;border:1.5px solid var(--border);animation:shimmer 1.4s ease infinite}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}
.empty-state{text-align:center;padding:36px 20px;font-family:'Barlow Condensed',sans-serif;font-size:12px;font-weight:600;letter-spacing:.22em;text-transform:uppercase;color:var(--text3)}
.empty-state .ei{font-size:26px;margin-bottom:10px;display:block}
.sp{display:inline-block;width:9px;height:9px;border:1.5px solid #ccc;border-top-color:#444;border-radius:50%;animation:spin .7s linear infinite;margin-right:6px;vertical-align:middle}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
footer{text-align:center;padding:40px 0 0;font-size:8px;letter-spacing:.35em;text-transform:uppercase;color:var(--text3);animation:fadeUp .5s .3s ease both}
@media(max-width:480px){.plat-grid{grid-template-columns:repeat(2,1fr)}.q-grid{grid-template-columns:repeat(3,1fr)}.r-thumb.yt{width:88px;height:50px}.stalk-stats{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>
<div class="wrap">
<header>
  <div class="eyebrow">all-in-one media tool</div>
  <h1>RIZTOOLS</h1>
  <div class="sub-row">
    <div class="dot"></div><span class="sub-text">downloader + search + stalk</span>
    <div class="dot"></div><span class="sub-text">by r¬°z</span><div class="dot"></div>
  </div>
</header>
<div class="nav-tabs">
  <button class="nav-tab active" data-panel="dl">‚Üì DOWNLOAD</button>
  <button class="nav-tab" data-panel="search">‚åï SEARCH</button>
  <button class="nav-tab" data-panel="stalk">STALK</button>
</div>
<!-- DOWNLOAD -->
<div class="panel active" id="panel-dl">
  <div class="fl">// platform</div>
  <div class="plat-grid">
    <button class="plat-btn active" data-plat="tiktok"><div class="plat-icon"><svg viewBox="0 0 48 48"><rect width="48" height="48" rx="10" fill="#010101"/><path d="M28.7 14c.8 2.4 2.9 4 5.5 4.2v4c-2 0-3.9-.6-5.5-1.6v12.8c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8c.4 0 .8 0 1.2.1v4.1c-.4-.1-.8-.2-1.2-.2-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4V14h4z" fill="#69C9D0"/><path d="M28.7 14c.8 2.4 2.9 4 5.5 4.2v4c-2 0-3.9-.6-5.5-1.6v12.8c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8c.4 0 .8 0 1.2.1v4.1c-.4-.1-.8-.2-1.2-.2-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4V14h4z" fill="#EE1D52" opacity=".5"/><path d="M28.7 14c.8 2.4 2.9 4 5.5 4.2v4c-2 0-3.9-.6-5.5-1.6v12.8c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8c.4 0 .8 0 1.2.1v4.1c-.4-.1-.8-.2-1.2-.2-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4V14h4z" fill="white" opacity=".8"/></svg></div><div class="plat-name">TikTok</div></button>
    <button class="plat-btn" data-plat="youtube"><div class="plat-icon"><svg viewBox="0 0 48 48"><rect width="48" height="48" rx="10" fill="#FF0000"/><path d="M38 17s-.4-2.5-1.5-3.6c-1.4-1.5-3-.2-3-.2C30.4 12.6 24 12.5 24 12.5s-6.4.1-9.5.7c0 0-1.6-1.3-3 .2C10.4 14.5 10 17 10 17S9.5 19.7 9.5 22.4v2.4c0 2.7.5 5.4.5 5.4s.4 2.5 1.5 3.6c1.4 1.5 3.4 1 4.3 1.1C18.3 35.2 24 35.3 24 35.3s6.4 0 9.5-.5c0 0 1.6-.2 3-1.6 1.1-1.1 1.5-3.6 1.5-3.6s.5-2.7.5-5.4v-2.4c0-2.7-.5-5.4-.5-5.4z" fill="white"/><polygon points="20,18 20,30 30,24" fill="#FF0000"/></svg></div><div class="plat-name">YouTube</div></button>
    <button class="plat-btn" data-plat="instagram"><div class="plat-icon"><svg viewBox="0 0 48 48"><defs><radialGradient id="ig" cx="30%" cy="107%" r="150%"><stop offset="0%" stop-color="#fdf497"/><stop offset="50%" stop-color="#fd5949"/><stop offset="68%" stop-color="#d6249f"/><stop offset="100%" stop-color="#285AEB"/></radialGradient></defs><rect width="48" height="48" rx="10" fill="url(#ig)"/><rect x="11" y="11" width="26" height="26" rx="7" fill="none" stroke="white" stroke-width="2.5"/><circle cx="24" cy="24" r="7" fill="none" stroke="white" stroke-width="2.5"/><circle cx="33.5" cy="14.5" r="2" fill="white"/></svg></div><div class="plat-name">Instagram</div></button>
    <button class="plat-btn" data-plat="pinterest"><div class="plat-icon"><svg viewBox="0 0 48 48"><rect width="48" height="48" rx="10" fill="#E60023"/><path d="M24 8C15.2 8 8 15.2 8 24c0 6.6 4 12.3 9.8 14.8-.1-1.2 0-2.7.3-4l2.3-9.7s-.6-1.2-.6-2.9c0-2.7 1.6-4.7 3.5-4.7 1.7 0 2.5 1.2 2.5 2.7 0 1.7-1.1 4.2-1.6 6.5-.5 1.9.9 3.5 2.8 3.5 3.4 0 5.7-4.3 5.7-9.4 0-3.9-2.6-6.8-7.4-6.8-5.4 0-8.7 4-8.7 8.5 0 1.5.4 2.6 1.1 3.4.3.4.3.5.2.9l-.4 1.5c-.1.5-.4.6-.9.4-2.5-1-3.7-4-3.7-7.2 0-5.4 4.6-11.9 13.7-11.9 7.3 0 12.1 5.3 12.1 11 0 7.5-4.2 13.2-10.3 13.2-2.1 0-4-1.1-4.6-2.4l-1.3 4.9c-.4 1.5-1.4 3.4-2.1 4.6.8.2 1.6.3 2.4.3 8.8 0 16-7.2 16-16S32.8 8 24 8z" fill="white"/></svg></div><div class="plat-name">Pinterest</div></button>
  </div>
  <div class="card">
    <div class="fl">// url</div>
    <div class="inp-wrap"><input type="url" id="d-url" placeholder="paste url di sini..." autocomplete="off" spellcheck="false"><button class="inp-icon" id="paste-btn">‚àÜ</button></div>
    <div class="fl">// mode</div>
    <div class="mode-wrap" id="mode-wrap">
      <button class="mode-btn active" data-mode="video">VIDEO</button>
      <button class="mode-btn" data-mode="audio">‚ô™ MP3</button>
    </div>
    <div class="q-wrap" id="q-wrap">
      <div class="fl">// kualitas</div>
      <div class="q-grid">
        <button class="q-btn" data-q="360">360p<span class="qtag">low</span></button>
        <button class="q-btn" data-q="480">480p<span class="qtag">med</span></button>
        <button class="q-btn active" data-q="720">720p<span class="qtag">hd</span></button>
        <button class="q-btn" data-q="1080">1080p<span class="qtag">fhd</span></button>
        <button class="q-btn" data-q="max">MAX<span class="qtag">best</span></button>
      </div>
    </div>
    <div class="btn-row">
      <button class="fetch-btn" id="fetch-btn">FETCH</button>
      <button class="dl-btn" id="dl-btn" disabled>‚Üì DOWNLOAD</button>
    </div>
    <div class="prog-wrap" id="prog-wrap"><div class="prog-bar" id="prog-bar"></div></div>
    <div class="st" id="d-st"></div>
    <div class="res-box" id="res-box">
      <div class="divider" style="margin-top:16px"></div>
      <div class="res-card"><img class="res-thumb" id="res-thumb" src="" alt=""><div class="res-info"><div class="res-title" id="res-title">‚Äî</div><div class="res-tags" id="res-tags"></div></div></div>
      <div class="yt-pick" id="yt-pick"><div class="fl" style="margin-top:12px">// pilih kualitas youtube</div><div class="yt-pick-grid" id="yt-pick-grid"></div></div>
      <div class="picker-grid" id="picker-grid" style="display:none"></div>
    </div>
  </div>
</div>
<!-- SEARCH -->
<div class="panel" id="panel-search">
  <div class="search-card">
    <div class="fl">// platform</div>
    <div class="splat-row">
      <button class="splat-btn active" data-sp="tiktok"><span class="si"><svg viewBox="0 0 48 48"><rect width="48" height="48" rx="6" fill="#010101"/><path d="M28.7 14c.8 2.4 2.9 4 5.5 4.2v4c-2 0-3.9-.6-5.5-1.6v12.8c0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8c.4 0 .8 0 1.2.1v4.1c-.4-.1-.8-.2-1.2-.2-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4V14h4z" fill="white"/></svg></span>TIKTOK</button>
      <button class="splat-btn" data-sp="youtube"><span class="si"><svg viewBox="0 0 48 48"><rect width="48" height="48" rx="6" fill="#FF0000"/><polygon points="20,15 20,33 33,24" fill="white"/></svg></span>YOUTUBE</button>
    </div>
    <div class="fl">// keyword</div>
    <div class="s-row"><input type="text" id="s-input" placeholder="mr robot edit, lofi, tutorial..." autocomplete="off" spellcheck="false"><button class="srch-btn" id="srch-btn">CARI</button></div>
    <div class="rfr-row" id="rfr-row" style="display:none">
      <div class="rfr-info" id="rfr-info">‚Äî hasil</div>
      <button class="rfr-btn" id="rfr-btn"><span class="ri-sp">‚Üª</span> REFRESH</button>
    </div>
    <div class="st" id="s-st"></div>
    <div id="s-results"><div class="empty-state"><span class="ei">‚åï</span>ketik keyword &amp; tekan CARI</div></div>
  </div>
</div>
<!-- STALK -->
<div class="panel" id="panel-stalk">
  <div class="stalk-card">
    <div class="fl">// tiktok username</div>
    <div class="inp-wrap" style="margin-bottom:13px"><input type="text" id="stalk-input" placeholder="@username atau username saja..." autocomplete="off" spellcheck="false"></div>
    <button id="stalk-btn" style="width:100%;background:var(--black);border:1.5px solid var(--black);color:var(--white);font-family:'Bebas Neue',sans-serif;font-size:18px;letter-spacing:.14em;height:50px;cursor:pointer;transition:all .2s">&nbsp;STALK SEKARANG</button>
    <div class="st" id="stalk-st"></div>
    <div class="stalk-result" id="stalk-result">
      <div class="divider" style="margin-top:16px"></div>
      <div class="stalk-profile"><img class="stalk-avatar" id="sk-av" src="" alt=""><div class="stalk-info"><div class="stalk-name" id="sk-name">‚Äî</div><div class="stalk-at" id="sk-at">@‚Äî</div><div class="stalk-bio" id="sk-bio"></div><div class="stalk-badges" id="sk-badges"></div></div></div>
      <div class="stalk-stats" id="sk-stats"></div>
    </div>
  </div>
</div>
<footer>¬© 2026 ¬∑ riztools ¬∑ by r¬°z ¬∑ personal use only</footer>
</div>
<script>
const BASE=window.location.origin;
const S={plat:'tiktok',mode:'video',quality:'720',dlUrl:null,ytDl:[],sp:'tiktok',skw:'',sc:0,spage:1,busy:false};
const $=id=>document.getElementById(id);
const fmtN=n=>{if(!n)return'0';n=parseInt(n);if(n>=1e6)return(n/1e6).toFixed(1)+'M';if(n>=1e3)return(n/1e3).toFixed(1)+'K';return String(n);};

// NAV
document.querySelectorAll('.nav-tab').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
    document.querySelectorAll('.nav-tab').forEach(b=>b.classList.remove('active'));
    $('panel-'+btn.dataset.panel).classList.add('active');
    btn.classList.add('active');
  });
});

// PLATFORM
document.querySelectorAll('.plat-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.plat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active'); S.plat=btn.dataset.plat; resetDL();
    const mw=$('mode-wrap');
    if(['instagram','pinterest'].includes(S.plat)){mw.style.opacity='.4';mw.style.pointerEvents='none';}
    else{mw.style.opacity='';mw.style.pointerEvents='';}
  });
});

// MODE
document.querySelectorAll('.mode-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.mode-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active'); S.mode=btn.dataset.mode;
    $('q-wrap').style.display=S.mode==='video'?'block':'none'; resetRes();
  });
});

// QUALITY
document.querySelectorAll('.q-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.q-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active'); S.quality=btn.dataset.q;
  });
});

function setSt(id,msg,cls=''){const e=$(id);e.style.display=msg?'block':'none';e.className='st '+(cls||'');e.innerHTML=msg||'';}
function resetRes(){S.dlUrl=null;S.ytDl=[];$('res-box').style.display='none';$('dl-btn').disabled=true;$('yt-pick').style.display='none';$('yt-pick-grid').innerHTML='';$('picker-grid').style.display='none';$('picker-grid').innerHTML='';setSt('d-st','');}
function resetDL(){resetRes();$('prog-wrap').style.display='none';$('prog-bar').style.width='0%';}

function startProg(){$('prog-wrap').style.display='block';let p=0;const iv=setInterval(()=>{p=Math.min(p+Math.random()*12,88);$('prog-bar').style.width=p+'%';},200);return iv;}
function endProg(iv){clearInterval(iv);$('prog-bar').style.width='100%';setTimeout(()=>{$('prog-wrap').style.display='none';$('prog-bar').style.width='0%';},700);}

$('paste-btn').addEventListener('click',async()=>{try{$('d-url').value=await navigator.clipboard.readText();}catch{setSt('d-st','‚ö† paste manual ya','');}});
$('d-url').addEventListener('keydown',e=>{if(e.key==='Enter')$('fetch-btn').click();});

$('fetch-btn').addEventListener('click',async()=>{
  const url=$('d-url').value.trim();
  if(!url){setSt('d-st','‚ö† URL kosong.','err');return;}
  const chk={tiktok:/tiktok\.com|vm\.tiktok|vt\.tiktok/i,youtube:/youtube\.com|youtu\.be/i,instagram:/instagram\.com/i,pinterest:/pinterest\.|pin\.it/i};
  if(!chk[S.plat].test(url)){setSt('d-st','‚ö† bukan URL '+S.plat+' valid.','err');return;}
  $('fetch-btn').disabled=true;$('fetch-btn').textContent='LOADING...';
  resetDL();setSt('d-st','<span class="sp"></span>fetching...','ld');
  try{
    const ep={tiktok:'/api/tiktok',youtube:'/api/youtube',instagram:'/api/instagram',pinterest:'/api/pinterest'}[S.plat];
    const r=await fetch(BASE+ep+'?url='+encodeURIComponent(url)+'&format='+(S.mode==='audio'?'audio':'video'));
    const j=await r.json(); if(!j.ok) throw new Error(j.msg);
    const d=j.data;
    if(S.plat==='tiktok'){
      const nw=d.downloads.find(x=>x.type==='hd')||d.downloads.find(x=>x.type==='video')||d.downloads[0];
      const mp3=d.downloads.find(x=>x.type==='mp3');
      S.dlUrl=S.mode==='audio'?(mp3?.url||nw?.url):nw?.url;
      showRC({thumb:d.cover,title:d.title,tags:[['üë§',d.author.username||'‚Äî'],['üì¶',S.mode.toUpperCase()]]});
      setSt('d-st','‚úì siap. klik DOWNLOAD.','ok');
    } else if(S.plat==='youtube'){
      S.ytDl=d.downloads||[];
      showRC({thumb:d.meta?.thumbnail||'',title:d.meta?.title||'YouTube Video',tags:[['‚è±',d.meta?.duration||''],['üì¶','YouTube']],sq:true});
      const grid=$('yt-pick-grid'); grid.innerHTML='';
      const items=S.mode==='audio'?S.ytDl.filter(x=>x.isAudio||x.format==='m4a'):S.ytDl.filter(x=>!x.isAudio&&x.format==='mp4');
      const show=items.length?items:S.ytDl.slice(0,6);
      show.forEach(item=>{
        const btn=document.createElement('button');btn.className='yt-q-btn';
        btn.innerHTML=(item.quality?item.quality+'p':item.format)+`<span class="yt-fmt">${item.format||''} ¬∑ ${item.size||''}</span>`;
        btn.onclick=()=>triggerDl(item.url,'youtube',S.mode==='audio'?'mp3':'mp4');
        grid.appendChild(btn);
      });
      $('yt-pick').style.display='block';$('dl-btn').disabled=false;
      setSt('d-st','‚úì pilih kualitas dari grid.','ok');
    } else if(S.plat==='instagram'){
      const all=[...d.videos.map(u=>({url:u,type:'video'})),...d.images.map(u=>({url:u,type:'image'}))];
      if(all.length>1){showPicker(all);setSt('d-st','‚úì '+all.length+' item ‚Äî tap untuk DL.','ok');}
      else{S.dlUrl=all[0]?.url||null;showRC({thumb:d.thumb||'',title:'@'+(d.username||'instagram')+' ¬∑ '+d.type,tags:[['üì¶',d.type.toUpperCase()]],sq:d.type==='image'});setSt('d-st','‚úì siap.','ok');}
    } else if(S.plat==='pinterest'){
      const all=[...d.videos.map(v=>({url:v.url,type:'video'})),...d.images.map(i=>({url:i.url,type:'image'}))];
      if(all.length>1){showPicker(all);setSt('d-st','‚úì '+all.length+' item ditemukan.','ok');}
      else{S.dlUrl=all[0]?.url||null;showRC({thumb:d.thumbnail||'',title:d.title||'Pinterest',tags:[['üë§',d.author?.name||'‚Äî'],['üì¶',d.type.toUpperCase()]],sq:d.type==='image'});setSt('d-st','‚úì siap.','ok');}
    }
  }catch(e){setSt('d-st','‚úï '+e.message,'err');}
  finally{$('fetch-btn').disabled=false;$('fetch-btn').textContent='FETCH';}
});

function showRC({thumb,title,tags,sq=false}){
  const img=$('res-thumb');img.className='res-thumb'+(sq?' sq':'');
  if(thumb){img.src=thumb;img.style.display='';}else img.style.display='none';
  $('res-title').textContent=title;
  $('res-tags').innerHTML=tags.map(([k,v])=>`<span class="res-tag">${k} ${v}</span>`).join('');
  $('res-box').style.display='block';$('dl-btn').disabled=false;
}
function showPicker(items){
  const g=$('picker-grid');g.style.display='grid';
  g.innerHTML=items.map((it,i)=>`<div class="picker-item"><img src="${it.url}" alt="" loading="lazy" onerror="this.style.display='none'"><button class="picker-dl" onclick="dlSingle('${it.url}',${i+1},'${it.type}')">‚Üì DL</button></div>`).join('');
  $('res-box').style.display='block';$('dl-btn').disabled=false;
}
$('dl-btn').addEventListener('click',()=>{if(!S.dlUrl){setSt('d-st','‚Ñπ tap item di grid.','');return;}triggerDl(S.dlUrl,S.plat,S.mode==='audio'?'mp3':'mp4');});

async function triggerDl(url,plat,ext){
  $('dl-btn').disabled=true;$('dl-btn').textContent='‚Üª WAIT...';
  const iv=startProg();setSt('d-st','<span class="sp"></span>downloading...','ld');
  const fname=plat+'_riz_'+Date.now()+'.'+ext;
  try{const r=await fetch(url);if(!r.ok)throw new Error('fetch fail');const blob=await r.blob();endProg(iv);const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download=fname;document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(a.href);setSt('d-st','‚úì selesai ‚Äî '+fname,'ok');}
  catch{endProg(iv);window.open(url,'_blank');setSt('d-st','‚Üó dibuka tab baru ‚Äî long press ‚Üí save','ok');}
  finally{$('dl-btn').disabled=false;$('dl-btn').innerHTML='‚Üì DOWNLOAD';}
}
async function dlSingle(url,idx,type){
  const ext=type==='video'?'mp4':'jpg';const fname='riz_'+idx+'_'+Date.now()+'.'+ext;
  setSt('d-st','<span class="sp"></span>dl item '+idx+'...','ld');
  try{const r=await fetch(url);const blob=await r.blob();const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download=fname;document.body.appendChild(a);a.click();document.body.removeChild(a);setSt('d-st','‚úì item '+idx+' selesai','ok');}
  catch{window.open(url,'_blank');setSt('d-st','‚Üó item '+idx+' tab baru','ok');}
}

// SEARCH
document.querySelectorAll('.splat-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.splat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');S.sp=btn.dataset.sp;clearSR();
  });
});
function clearSR(){$('s-results').innerHTML='<div class="empty-state"><span class="ei">‚åï</span>ketik keyword &amp; tekan CARI</div>';$('rfr-row').style.display='none';setSt('s-st','');S.sc=0;S.spage=1;}
$('s-input').addEventListener('keydown',e=>{if(e.key==='Enter')doSearch(false);});
$('srch-btn').addEventListener('click',()=>doSearch(false));
$('rfr-btn').addEventListener('click',()=>doSearch(true));

async function doSearch(isRefresh){
  const kw=$('s-input').value.trim();
  if(!kw){setSt('s-st','‚ö† isi keyword dulu.','err');return;}
  if(S.busy)return;S.busy=true;S.skw=kw;
  if(isRefresh){S.sc+=6;S.spage++;}else{S.sc=0;S.spage=1;}
  $('srch-btn').disabled=true;$('srch-btn').textContent='LOADING...';
  const rb=$('rfr-btn');rb.disabled=true;rb.classList.add('spinning');
  $('s-results').innerHTML=Array(6).fill('<div class="skel"></div>').join('');
  setSt('s-st','');
  try{
    const r=await fetch(BASE+'/api/search?q='+encodeURIComponent(kw)+'&platform='+S.sp+'&cursor='+S.sc+'&page='+S.spage);
    const j=await r.json();if(!j.ok)throw new Error(j.msg);
    if(!j.data.length)throw new Error('Tidak ada hasil');
    renderSR(j.data,S.sp);
    $('rfr-row').style.display='flex';
    $('rfr-info').innerHTML=j.data.length+' hasil &nbsp;¬∑&nbsp; <strong>'+S.sp+'</strong> &nbsp;¬∑&nbsp; "'+kw+'"';
  }catch(e){$('s-results').innerHTML='<div class="empty-state"><span class="ei">‚úï</span>'+e.message+'</div>';setSt('s-st','‚úï '+e.message,'err');}
  finally{S.busy=false;$('srch-btn').disabled=false;$('srch-btn').textContent='CARI';rb.disabled=false;rb.classList.remove('spinning');}
}

function renderSR(items,plat){
  const html=items.map((item,i)=>{
    const isYT=plat==='youtube';
    const dlBtnHtml=isYT
      ?`<button class="r-dl-btn" onclick="gotoYT(${JSON.stringify(item.ytUrl||'')})">‚Üì YT</button>`
      :`<button class="r-dl-btn" onclick="gotoTT(${JSON.stringify(item.hdUrl||item.dlUrl||'')},${JSON.stringify(item.title||'')},${JSON.stringify(item.cover||'')})">‚Üì DL</button>`;
    return `<div class="r-item" style="animation-delay:${i*.05}s">
      <div class="r-thumb-w"><img class="r-thumb${isYT?' yt':''}" src="${item.cover||''}" alt="" loading="lazy" onerror="this.style.display='none'">${item.duration?`<span class="r-dur">${item.duration}</span>`:''}</div>
      <div class="r-info"><div class="r-title">${(item.title||'').replace(/</g,'&lt;').substring(0,80)}</div>
      <div class="r-meta">${item.views?`<span>üëÅ ${item.views}</span>`:''}${item.likes?`<span>‚ù§ ${item.likes}</span>`:''}${item.author?`<span>${item.author.replace(/</g,'').substring(0,18)}</span>`:''}</div></div>
      ${dlBtnHtml}
    </div>`;
  }).join('');
  $('s-results').innerHTML='<div class="results-grid">'+html+'</div>';
  document.querySelectorAll('.r-item').forEach((el,i)=>{el.style.animationDelay=i*.05+'s';});
}

function gotoTT(dlUrl,title,cover){
  S.dlUrl=dlUrl;
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-tab').forEach(b=>b.classList.remove('active'));
  $('panel-dl').classList.add('active');
  document.querySelector('[data-panel="dl"]').classList.add('active');
  document.querySelectorAll('.plat-btn').forEach(b=>b.classList.remove('active'));
  document.querySelector('[data-plat="tiktok"]').classList.add('active');
  S.plat='tiktok';
  showRC({thumb:cover,title:title||'TikTok Video',tags:[['üé¨','TikTok'],['üì¶','READY']]});
  setSt('d-st','‚úì dari search ‚Äî langsung klik DOWNLOAD.','ok');
}
function gotoYT(ytUrl){
  document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-tab').forEach(b=>b.classList.remove('active'));
  $('panel-dl').classList.add('active');
  document.querySelector('[data-panel="dl"]').classList.add('active');
  document.querySelectorAll('.plat-btn').forEach(b=>b.classList.remove('active'));
  document.querySelector('[data-plat="youtube"]').classList.add('active');
  S.plat='youtube';$('d-url').value=ytUrl;resetDL();
  setSt('d-st','‚Ñπ URL YouTube terisi. Tekan FETCH.','');
}

// STALK
$('stalk-input').addEventListener('keydown',e=>{if(e.key==='Enter')doStalk();});
$('stalk-btn').addEventListener('click',doStalk);
async function doStalk(){
  const un=$('stalk-input').value.replace('@','').trim();
  if(!un){setSt('stalk-st','‚ö† isi username dulu.','err');return;}
  $('stalk-btn').disabled=true;$('stalk-btn').textContent='‚è≥ STALKING...';
  $('stalk-result').style.display='none';setSt('stalk-st','<span class="sp"></span>fetching...','ld');
  try{
    const r=await fetch(BASE+'/api/stalk?username='+encodeURIComponent(un));
    const j=await r.json();if(!j.ok)throw new Error(j.msg);
    const d=j.data;
    $('sk-av').src=d.avatar||'';$('sk-name').textContent=d.nickname||d.username;
    $('sk-at').textContent='@'+d.username;$('sk-bio').textContent=d.bio||'(no bio)';
    const badges=[];
    if(d.verified)badges.push('<span class="stalk-badge">‚úì verified</span>');
    if(d.privateAccount)badges.push('<span class="stalk-badge">üîí private</span>');
    $('sk-badges').innerHTML=badges.join('');
    $('sk-stats').innerHTML=[['Followers',d.stats.followers],['Following',d.stats.following],['Likes',d.stats.likes],['Videos',d.stats.videos]]
      .map(([l,v])=>`<div class="stat-item"><div class="stat-val">${v}</div><div class="stat-lbl">${l}</div></div>`).join('');
    $('stalk-result').style.display='block';setSt('stalk-st','‚úì data @'+d.username+' berhasil.','ok');
  }catch(e){setSt('stalk-st','‚úï '+e.message,'err');}
  finally{$('stalk-btn').disabled=false;$('stalk-btn').innerHTML='üîç &nbsp;STALK SEKARANG';}
}
</script>
</body>
</html>

